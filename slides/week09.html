---
layout: slide
title: "Uge 9 - Dictionaries (fortsat)"
solutions: "show"
---

<section>
	<p>Program for i dag</p>
	<ul style="font-size: smaller;">
		<li>Vi skal lave øvelser med
			<ul style="font-size: smaller;">
				<li>Dictionaries!</li>
			</ul>
		</li>
		<li>Unesco: List of endangered languages</li>
	</ol>
	</p>
</section>


<section>
	<p>Unesco: List of endangered languages</p>
	<ul style="font-size: smaller;">
		<li>Liste over truede sprog i verden</li>
		<li>Findes på <a href="https://www.kaggle.com/the-guardian/extinct-languages">kaggle</a> (samme sted som titanic-datasettet)</li>
		<li>Motivation: Mere viden og opmærksomhed omkring truede sprog</li>
		<li>Listen indeholder omkring
			<ul>
				<li>I hvor høj grad sproget er truet</li>
				<li>Hvor mange talere</li>
				<li>Hvilke lande sproget bliver talt i</li>
			</ul>
		</li>
	</ul>
</section>

<section style="font-size: smaller;">
	<ul style="font-size: smaller;">
		<li>På absalon: <icode>endangered_europe.csv</icode></li>
		<li>Hver linje svarer til et truet sprog</li>
		<li>Semikolon-separerede værdier
			<ul>
				<li>Den første værdi er et id</li>
				<li>Den anden er det engelsk navn på sproget</li>
				<li>Den trejde er det franske navn på sproget</li>
				<li>...</li>
			</ul>
		</li>
		<pre><code data-trim data-noescape class="text">
			ID;Name in English;Name in French;Name in Spanish;Countries;Degree of endangerment;Number of speakers
			382;Lombard;lombard;lombardo;Italy, Switzerland;Definitely endangered;3500000
			1022;South Italian;italien du sud;napolitano-calabrés;Italy;Vulnerable;7500000
			1023;Sicilian;sicilien;siciliano;Italy;Vulnerable;5000000
		</code></pre>	

		<pre><code data-trim data-noescape class="text">
			ID;	 Name in English; Name in French; Name in Spanish;     Countries;		   Degree of endangerment; Number of speakers
			382; Lombard;		  lombard;		  lombardo;		       Italy, Switzerland; Definitely endangered;   3500000
			1022;South Italian;	  italien du sud; napolitano-calabrés; Italy;              Vulnerable;              7500000
			1023;Sicilian;        sicilien;	      siciliano;	       Italy;			   Vulnerable;			    5000000
		</code></pre>		
	</ul>	
</section>


<section style="font-size: smaller;">
	<p>Opgave 1</p>
	<ol style="font-size: smaller;">
		<li>Indlæs <icode>endangered_europe.csv</icode> i python</li>
		<li>Lav en dictionary i python over truede sprog og i hvilken grad de er truede
			<ul style="font-size: smaller;">
				<li>Navnet på sproget skal være <icode>key</icode> og <icode>value</icode> skal være sprogets grad af fare:</li>
				<pre><code data-trim data-noescape class="python">
					D = {"Lombard"      : "Definitely endangered",
						 "Sicilian"     : "Vulnerable",
						 "South Italian": "Vulnerable"}
				</code></pre>
			</ul>
		</li>
		<li>I hvor høj grad er Romani truet?</li>
	</ol>
</section>

<section style="font-size: smaller;" class="solution">
		<p>1-3 (løsning)</p>
		<pre><code data-trim data-noescape class="python">
			languageDict = dict()

			with open("data/endangered_europe.csv") as f:
				sep = ";"

				# Skip header
				f.readline()

				for line in f:
					_, language, _, _, countries, degree, _ = line.strip().split(sep)
					languageDict[language] = degree


			language = "Romani"
			endangered = languageDict.get(language, "not endangered")

			print("The {L} language is {E}".format(L=language, E=endangered.lower()))

		</code></pre>
</section>


<section style="font-size: smaller;">
	<ol style="font-size: smaller;" start="4">
		<li>Lav en ny dictionary ved at vende keys og values om (inverted dictionary), som indeholder information om hvilke sprog der er mere eller mindre truede
			<ul style="font-size: smaller;">
				<li>Nu er 'graden af fare' <icode>key</icode> og <icode>value</icode> en liste over sprog inden for denne kategori:</li>
				<pre><code data-trim data-noescape class="python">
					D = {"Definitely endangered" : ["Lombard"],
						 "Vulnerable"            : ["Sicilian", "South Italian"]}
				</code></pre>
			</ul>
		</li>
		<li>Hvor mange forskellige 'grader af fare' er der i datasettet?</li>
		<li>Hvor mange sprog er 'Extinct'</li>

	</ol>
</section>

<section style="font-size: smaller;" class="solution">
		<p>4-6 (løsning)</p>
		<pre><code data-trim data-noescape class="python">
			degreeDict = dict()
			for language, degree in languageDict.items():
				if degree not in degreeDict:
					degreeDict[degree] = [language,]
				else:
					degreeDict[degree].append(language)

			print("Degrees of endangerment:", set(degreeDict.keys()))

			degree = "Extinct"
			language_within_degree = degreeDict[degree]
			total = len(languageDict)

			print("{N} languages out of {T} total are {D}".format(N=len(language_within_degree), D=degree.lower(), T=total))
		</code></pre>
</section>


<section style="font-size: smaller;">
	<p>Opgave 2</p>
	<p style="font-size: smaller;" align="left">Denne øvelse ligner den sidste opgave, men nu skal I i stedet skal arbejde med i hvilke lande de truede sprog er talt:</p>
	<ol style="font-size: smaller;">
		<li>Lav en dictionary i python over truede sprog og i hvilke lande de er talt
			<ul style="font-size: smaller;">
				<li>Navnet på sproget skal være <icode>key</icode> og <icode>value</icode> skal være en liste over de lande hvor sproget er talt:</li>
				<pre><code data-trim data-noescape class="python">
					D = {"Lombard"      : ["Italy", "Switzerland"],
						 "Sicilian"     : ["Italy"],
						 "South Italian": ["Italy"]}
				</code></pre>
			</ul>
		</li>
		<li>I hvilke lande bliver 'Romani' talt?</li>
	</ol>
</section>


<section style="font-size: smaller;" class="solution">
		<p>1-2 (løsning)</p>
		<pre><code data-trim data-noescape class="python">
			languageDict = dict()

			with open("data/endangered_europe.csv") as f:
				sep = ";"

				# Skip header
				f.readline()

				for line in f:
					_, language, _, _, countries, degree, _ = line.strip().split(sep)
					languageDict[language] = [country.strip() for country in countries.split(",")]


			language = "Romani"
			contries = languageDict[language]

			print("The {L} language is spoken in: {C}".format(L=language, C=contries))
		</code></pre>
</section>


<section style="font-size: smaller;">
	<ol style="font-size: smaller;" start="3">
		<li>Lav igen en ny dictionary ved at vende keys og values om, som indeholder information omkring hvilke truede sprog som bliver talt i de enkelte lande
			<ul style="font-size: smaller;">
				<li>Nu fungerer 'lande' som <icode>key</icode> og <icode>value</icode> en liste over de truede sprog der bliver talt i det land:</li>
				<pre><code data-trim data-noescape class="python">
					D = {"Italy"         : ["Lombard", "Sicilian", "South Italian"],
						 "Switzerland"   : ["Lombard"]}
				</code></pre>
			</ul>
		</li>
		<li>Hvor mange truede sprog bliver talt i Danmark?</li>
		<li>Har I nogen idéer til hvordan vi ellers kan behandle datasettet i python?</li>
	</ol>
</section>


<section style="font-size: smaller;" class="solution">
	<p>3-5 (løsning)</p>
	<pre><code data-trim data-noescape class="python">
		countryDict = dict()
		for language, countries in languageDict.items():

			for country in countries:
				if country not in countryDict:
					countryDict[country] = [language,]
				else:
					countryDict[country].append(language)

		country = "Denmark"
		endangered = countryDict.get(country, [])
		n = len(endangered)

		print("{N} endangered language{pl} is spoken in {C}:".format(N=n, pl="s" if n != 1 else "", C=country), endangered)
</section>







